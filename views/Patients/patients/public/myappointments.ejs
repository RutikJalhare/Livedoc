<!DOCTYPE html>
<html lang="en-US" dir="ltr">

<head>
  <meta charset="utf-8">
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta name="viewport" content="width=device-width, initial-scale=1">


  <!-- ===============================================-->
  <!--    Document Title-->
  <!-- ===============================================-->
  <title>Livedoc | Landing, Responsive &amp; Business Templatee</title>


  <!-- ===============================================-->
  <!--    Favicons-->
  <!-- ===============================================-->
  <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
  <link rel="apple-touch-icon" sizes="180x180" href="/patientscss/assets/img/favicons/apple-touch-icon.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/patientscss/assets/img/favicons/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/patientscss/assets/img/favicons/favicon-16x16.png">
  <link rel="shortcut icon" type="image/x-icon" href="/patientscss/assets/img/favicons/favicon.ico">
  <link rel="manifest" href="/patientscss/assets/img/favicons/manifest.json">
  <meta name="msapplication-TileImage" content="/patientscss/assets/img/favicons/mstile-150x150.png">
  <meta name="theme-color" content="#ffffff">

  <!-- jqury cdn  -->
  <script src="https://code.jquery.com/jquery-3.6.0.js" integrity="sha256-H+K7U5CnXl1h5ywQfKtSj8PCmoN9aaq30gDh27Xc0jk="
    crossorigin="anonymous"></script>

  <!-- ===============================================-->
  <!--    Stylesheets-->
  <!-- ===============================================-->
  <link href="/patientscss/assets/css/theme.css" rel="stylesheet" />

</head>


<body>

  <!-- ===============================================-->
  <!--    Main Content-->
  <!-- ===============================================-->
  <main class="main" id="top">
    <nav class="navbar navbar-expand-lg navbar-light fixed-top py-3 d-block"
      data-navbar-on-scroll="data-navbar-on-scroll">
      <div class="container"><a class="navbar-brand" href="index"><img src="/patientscss/assets/img/gallery/logo.png"
            width="118" alt="logo" /></a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent"
          aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation"><span
            class="navbar-toggler-icon"> </span></button>
        <div class="collapse navbar-collapse border-top border-lg-0 mt-4 mt-lg-0" id="navbarSupportedContent">
          <ul class="navbar-nav ms-auto pt-2 pt-lg-0 font-base">
            <li class="nav-item px-2"><a class="nav-link" aria-current="page" href="index">Dashboard</a></li>
            <li class="nav-item px-2"><a class="nav-link" href="medicalrecord">My Records</a></li>

            <li class="nav-item px-2"><a class="nav-link" href="chat">Chat </a></li>

          </ul><a class="btn btn-sm btn-outline-primary rounded-pill order-1 order-lg-0 ms-lg-4" href="myprofile">My
            Profile </a>
        </div>
      </div>
    </nav>
    <section class="py-xxl-10 pb-0" id="home">
      <div class="bg-holder bg-size"
        style="background-image:url(/patientscss/assets/img/gallery/hero-bg.png);background-position:top center;background-size:cover;">
      </div>


      <!-- <section class="py-0">

        <div class="container">
          <div class="row">
            <div class="col-12 py-0">
              <div class="bg-holder bg-size" style="background-image:url(/patientscss/assets/img/gallery/blog-post.png);background-position:top center;background-size:contain;">
              </div>
          

              <h1 class="text-center">The Best Doctor For you </h1>
            </div>
          </div>
        </div>
     

      </section> -->
      <!-- <section> close ============================-->
      ============================================


      <section>
        <div class="bg-holder bg-size"
          style="background-image:url(/patientscss/assets/img/gallery/dot-bg.png);background-position:top left;background-size:auto;">
        </div>
        <!--/.bg-holder-->

        <div class="container">
          <h1 class="text-start">Appointments </h1>
          <div class="row" id="alldata">
          </div>
        </div>
      </section>

      <section class="py-0 bg-secondary">
        <div class="bg-holder opacity-25"
          style="background-image:url(/patientscss/assets/img/gallery/dot-bg.png);background-position:top left;margin-top:-3.125rem;background-size:auto;">
        </div>
        <!--/.bg-holder-->



        <!-- ============================================-->
        <!-- <section> begin ============================-->
        <section class="py-0 bg-primary">

          <div class="container">
            <div class="row justify-content-md-between justify-content-evenly py-4">
              <div class="col-12 col-sm-8 col-md-6 col-lg-auto text-center text-md-start">
                <p class="fs--1 my-2 fw-bold text-200">All rights Reserved &copy; Your Company, 2021</p>
              </div>

            </div>
          </div>
          <!-- end of .container-->

        </section>
        <!-- <section> close ============================-->
        <!-- ============================================-->


      </section>
  </main>
  <!-- ===============================================-->
  <!--    End of Main Content-->
  <!-- ===============================================-->
  <!-- ===============================================-->
  <!--    JavaScripts-->
  <!-- ===============================================-->
  <script src="vendors/@popperjs/popper.min.js"></script>
  <script src="vendors/bootstrap/bootstrap.min.js"></script>
  <script src="vendors/is/is.min.js"></script>
  <script src="https://scripts.sirv.com/sirvjs/v3/sirv.js"></script>
  <script src="https://polyfill.io/v3/polyfill.min.js?features=window.scroll"></script>
  <script src="vendors/fontawesome/all.min.js"></script>
  <script src="assets/js/theme.js"></script>

  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link
    href="https://fonts.googleapis.com/css2?family=Fjalla+One&amp;family=Roboto:ital,wght@0,100;0,300;0,400;0,500;0,700;0,900;1,100&amp;display=swap"
    rel="stylesheet">
</body>

</html>




<script>

  //  performing  status update functionality 
  function cancel(id,app_id ,  status) {

    $.ajax({
      url: "http://localhost:5000/patients/public/statusupdate",
      method: "POST",
      data: { action: status, id: id , app_id:app_id },
      dataType: "JSON",
      success: function (data) {
        if (data.msg == 200) {
          Swal.fire({
            title: "Appointment Cancelled",
         
            icon: "success"
          });

        }
        // $('#message').html('<div class="alert alert-success">'+data.message+'</div>');
        // load_data();
        // setTimeout(function(){
        //     $('#message').html('');
        // }, 5000);
      }
    });

    load_data();



  }













  $(document).ready(function () {
    load_data();
  });
  function load_data() {
    $.ajax({
      url: "http://localhost:5000/patients/public/getallappointment",
      method: "get",
      dataType: "JSON",
      success: function (data) {

        var html = '';
        console.log(data)
        for (var count = 0; count < data.length; count++) {
          // html += `
          // <tr>
          //     <td>`+data[count].first_name+`</td>
          //     <td>`+data[count].last_name+`</td>
          //     <td>`+data[count].gender+`</td>
          //     <td>`+data[count].age+`</td>
          //     <td></td>
          // </tr>
          // `;


          html += `    <div class="col-sm-6 col-lg-4 mb-4">
              <div class="card card-span h-100 shadow">
                <div class="card-body d-flex flex-column flex-center py-5"><img src=`+ data[count].photo + ` width="128" alt="..." />
                  <h5 class="mt-3">`+ data[count].f_name + "  " + data[count].l_name + `</h5>
                  <p class="mb-0 fs-xxl-1">`  + data[count].profession + `</p>
                  <p class="text-600 mb-0">`  + data[count].address + data[count].state + `</p>
                 
                  <h5 class="mt-3">Staus - `  + data[count].status + ` </h5> 
                  <p class="mt-3">Date : - `  + data[count].date + ` </p>  
                 <p class="mt-3"> Appointment Type : - `  + data[count].appointment_type + ` </hp> 
                  <div class="text-center">
                    <button class="btn btn-danger hover-top rounded-pill border-0"    onclick="cancel( `+ data[count].D_id + `,`+ data[count].id +`  ,'cancel')" type="submit">Cancel Appointment</button>
                  </div>
                </div>
              </div>
            </div>
            `

          $('#alldata').html(html);

        }
      }
    });
  }


</script>